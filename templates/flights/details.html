{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <!-- Header Section -->
    <div class="text-center mb-4">
        <h1 class="text-primary">항공권 정보를 확인하세요!</h1>
        <p class="text-muted">입력하신 정보를 기반으로 항공권 세부 정보를 표시합니다.</p>
    </div>

    <!-- Content Section -->
    <div class="card shadow-sm mx-auto" style="max-width: 600px;">
        <div class="card-body" id="travel-info">
            <!-- URL 파라미터 값들이 이곳에 표시됩니다. -->
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // URL에서 파라미터를 추출하는 함수
    function getUrlParams() {
        const params = new URLSearchParams(window.location.search);
        return {
            departure: params.get('departure') || '정보 없음',  // 출발지
            destination: params.get('destination') || '정보 없음', // 도착지
            departureDate: params.get('departureDate') || '정보 없음', // 출발일
            returnDate: params.get('returnDate') || null         // 귀국일(왕복인 경우)
        };
    }

    // 파라미터를 가져와 표시
    const params = getUrlParams();
    const travelInfoDiv = document.getElementById("travel-info");

    travelInfoDiv.innerHTML += `<div class="mb-3"><strong>출발지:</strong> ${params.departure}</div>`;
    travelInfoDiv.innerHTML += `<div class="mb-3"><strong>도착지:</strong> ${params.destination}</div>`;
    travelInfoDiv.innerHTML += `<div class="mb-3"><strong>출발일:</strong> ${params.departureDate}</div>`;
    if (params.returnDate) {
        travelInfoDiv.innerHTML += `<div class="mb-3"><strong>귀국일:</strong> ${params.returnDate}</div>`;
    }
</script>
{% endblock %}
